// --------------------------------------------------------
// Code generated by Papyrus Java
// --------------------------------------------------------

package SettlersOfCatan;

import java.util.ArrayList;
import java.util.EnumMap;
import java.util.List;
import java.util.Map;

/**
 * 
 */
public class Player {
	/**
	 * 
	 */
	private PlayerColor color;
	/**
	 * 
	 */
	protected Map<ResourceType, Integer> resources;
	/**
	 * 
	 */
	protected Map<BuildingType, Integer> buildings;

	private Settlement Settlements;
	/**
	 * 
	 */
	private City cities;
	/**
	 * 
	 */
	private Road roads;
	/**
	 * 
	 */
	private int victoryPoints;

	public Player(PlayerColor color){
		this.color = color;
		this.victoryPoints = 0;
		resources = new EnumMap<ResourceType, Integer>(ResourceType.class);
		buildings = new EnumMap<BuildingType, Integer>(BuildingType.class);
		for (int i = 0; i<ResourceType.values().length; i++){
			resources.put(ResourceType.values()[i], 0);
		}
		buildings.put(BuildingType.ROAD, 15);
		buildings.put(BuildingType.SETTLEMENT, 5);
		buildings.put(BuildingType.CITY, 4);
	}

	/**
	 * 
	 * @param res 
	 */
	public void addResource(ResourceType res) {
		if (res == ResourceType.NULL){
			return;
		}

		int current = resources.get(res);
		resources.put(res, current + 1);
	}

	/**
	 * 
	 * @param res 
	 * @return 
	 */
	public boolean removeResource(ResourceType res, int amount) {
		int current = resources.get(res);
		if ((current - amount) < 0){
			return false;
		}

		resources.put(res, current - amount);
		return true;
	}

	/**
	 * 
	 * @return 
	 */
	public boolean canBuildRoad() {
		if ((resources.get(ResourceType.WOOD)>0 && resources.get(ResourceType.BRICK)>0) && buildings.get(BuildingType.ROAD)>0) {
			return true;
		}
		return false;
	}

	/**
	 * 
	 * @return 
	 */
	public boolean canBuildSettlement() {
		if ((resources.get(ResourceType.WOOD)>0 && resources.get(ResourceType.BRICK)>0 && resources.get(ResourceType.SHEEP)>0 && resources.get(ResourceType.WHEAT)>0) && buildings.get(BuildingType.SETTLEMENT)>0) {
			return true;
		}
		return false;
	}

	/**
	 * 
	 * @return 
	 */
	public boolean canBuildCity() {
		if ((resources.get(ResourceType.ORE)>=3 && resources.get(ResourceType.WHEAT)>=2) && buildings.get(BuildingType.CITY)>0) {
			return true;
		}
		return false;
	}

	/**
	 * 
	 * @return 
	 */
	public int getVictoryPoints() {
		return this.victoryPoints;
	}
}
