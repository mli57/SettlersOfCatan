// --------------------------------------------------------
// Code generated by Papyrus Java
// --------------------------------------------------------

package SettlersOfCatan;

/************************************************************/
/**
 * Data holder for tiles, nodes, and edges with lookup methods.
 * SOLID: Single Responsibility - only stores and retrieves board data.
 */
public class Board {
	/**
	 * 
	 */
	private Tile[] tiles;
	/**
	 * 
	 */
	private Node[] nodes;
	/**
	 * 
	 */
	private Edge[] edges;

	/**
	 * Sets the tiles array (called by board generator).
	 */
	public void setTiles(Tile[] tiles) {
		this.tiles = tiles;
	}

	/**
	 * Sets the nodes array (called by board generator).
	 */
	public void setNodes(Node[] nodes) {
		this.nodes = nodes;
	}

	/**
	 * Sets the edges array (called by board generator).
	 */
	public void setEdges(Edge[] edges) {
		this.edges = edges;
	}

	/**
	 * Gets all nodes on the board.
	 * @return the array of nodes
	 */
	public Node[] getNodes() {
		return nodes;
	}

	/**
	 * 
	 * @param q 
	 * @param s 
	 * @param r 
	 * @return 
	 */
	public Tile getTile(int q, int s, int r) {
		// Check if tiles are initialized
		if (tiles == null) {
			return null;
		}
		
		// Search for tile with matching coordinates
		for (Tile tile : tiles){
			if (tile.getQ() == q && tile.getS() == s && tile.getR() == r){
				return tile;
			}
		}
		
		// Tile not found
		return null;
	}

	/**
	 * 
	 * @param id 
	 * @return 
	 */
	public Node getNode(int id) {

		if (nodes == null || id < 0 || id >= nodes.length) {
			return null;
		}

		return nodes[id];

	}

	/**
	 * Gets an edge by its ID.
	 * @param id the edge ID
	 * @return the edge, or null if not found
	 */
	public Edge getEdge(int id) {

		if (edges == null || id < 0 || id >= edges.length) {
			return null;
		}

		return edges[id];

	}

	/**
	 * Finds an edge between two nodes (checks both node orders).
	 * @param nodeIdA first node ID
	 * @param nodeIdB second node ID
	 * @return the edge if found, null otherwise
	 */
	public Edge findEdge(int nodeIdA, int nodeIdB) {
		// Check if edges are initialized
		if (edges == null) {
			return null;
		}
		
		// Search through all edges
		for (Edge edge : edges) {
			if (edge != null) {
				int edgeNodeA = edge.getNodeA().getId();
				int edgeNodeB = edge.getNodeB().getId();
				// Check both orders: (A,B) or (B,A)
				if ((edgeNodeA == nodeIdA && edgeNodeB == nodeIdB) ||
					(edgeNodeA == nodeIdB && edgeNodeB == nodeIdA)) {
					return edge;
				}
			}
		}
		// Edge not found
		return null;
	}


	/**
	 * Gets all tiles on the board
	 * @return the array of tiles
	 */
	public Tile[] getTiles() {
		return tiles;
	}

	/**
	 * Gets all edges on the board
	 * @return the array of edges
	 */
	public Edge[] getEdges() {
		return edges;
	}
}
